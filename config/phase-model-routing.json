{
  "version": "3.0.0",
  "description": "Phase-aware thinking effort routing for sub-agents",
  "lastUpdated": "2026-02-13",
  "updatedBy": "SD-LEO-FIX-REPLACE-MODEL-SELECTION-001 - thinking effort routing",
  "philosophy": "THINKING EFFORT STRATEGY - Single model (Opus) with varying thinking depth: low for operational, medium for reasoning, high for critical",

  "phaseOverrides": {
    "LEAD": {
      "_comment": "Approval phase - strategic evaluation, risk assessment",
      "GITHUB": "low",
      "DOCMON": "low",
      "RETRO": "low",
      "QUICKFIX": "low",
      "VALIDATION": "medium",
      "DESIGN": "medium",
      "TESTING": "medium",
      "DATABASE": "high",
      "STORIES": "medium",
      "API": "medium",
      "RISK": "medium",
      "DEPENDENCY": "medium",
      "PERFORMANCE": "medium",
      "UAT": "medium",
      "SECURITY": "high",
      "RCA": "high",
      "REGRESSION": "medium",
      "ORCHESTRATOR_CHILD": "high"
    },
    "PLAN": {
      "_comment": "Planning phase - PRD quality determines EXEC success",
      "GITHUB": "low",
      "DOCMON": "low",
      "DESIGN": "medium",
      "TESTING": "medium",
      "DATABASE": "high",
      "API": "medium",
      "RISK": "medium",
      "DEPENDENCY": "medium",
      "PERFORMANCE": "medium",
      "RETRO": "medium",
      "UAT": "medium",
      "SECURITY": "high",
      "VALIDATION": "high",
      "STORIES": "medium",
      "RCA": "high",
      "REGRESSION": "medium",
      "ORCHESTRATOR_CHILD": "high"
    },
    "EXEC": {
      "_comment": "Execution phase - code quality is paramount",
      "GITHUB": "low",
      "QUICKFIX": "low",
      "DOCMON": "low",
      "DESIGN": "medium",
      "DATABASE": "high",
      "STORIES": "medium",
      "API": "medium",
      "DEPENDENCY": "medium",
      "PERFORMANCE": "medium",
      "RETRO": "medium",
      "UAT": "medium",
      "SECURITY": "high",
      "VALIDATION": "high",
      "TESTING": "high",
      "RCA": "high",
      "REGRESSION": "medium",
      "ORCHESTRATOR_CHILD": "high"
    }
  },

  "defaults": {
    "_comment": "Fallback when phase is unknown - balanced defaults",
    "GITHUB": "low",
    "DOCMON": "low",
    "RETRO": "low",
    "QUICKFIX": "low",
    "DATABASE": "high",
    "STORIES": "medium",
    "DESIGN": "medium",
    "RISK": "medium",
    "PERFORMANCE": "medium",
    "TESTING": "medium",
    "API": "medium",
    "DEPENDENCY": "medium",
    "UAT": "medium",
    "VALIDATION": "medium",
    "SECURITY": "high",
    "RCA": "high",
    "REGRESSION": "medium",
    "ORCHESTRATOR_CHILD": "high"
  },

  "categoryMappings": {
    "_comment": "LEO Protocol v4.3.2+ - Sub-agent to pattern category mapping for proactive pattern injection",
    "VALIDATION": ["code_structure", "protocol", "testing"],
    "TESTING": ["testing", "deployment", "build"],
    "DATABASE": ["database", "security"],
    "SECURITY": ["security", "database"],
    "DESIGN": ["ui", "code_structure"],
    "PERFORMANCE": ["performance", "database"],
    "GITHUB": ["deployment", "build", "ci_cd"],
    "DOCMON": ["documentation", "protocol"],
    "RETRO": ["protocol", "process"],
    "UAT": ["testing", "ui"],
    "DEPENDENCY": ["deployment", "build"],
    "API": ["api", "security"],
    "STORIES": ["protocol", "requirements"],
    "RISK": ["security", "protocol"],
    "QUICKFIX": ["code_structure", "testing", "build"],
    "REGRESSION": ["refactoring", "testing", "code_structure"],
    "RCA": ["debugging", "infrastructure", "process", "cross_cutting"],
    "ORCHESTRATOR_CHILD": ["protocol", "process", "code_structure"]
  },

  "effortDocumentation": {
    "low": {
      "budgetTokens": 1024,
      "useCases": ["CI/CD operations", "documentation validation", "pattern extraction", "quick fixes", "operational checks"]
    },
    "medium": {
      "budgetTokens": 4096,
      "useCases": ["design analysis", "testing strategy", "API design", "risk assessment", "dependency analysis", "story generation"]
    },
    "high": {
      "budgetTokens": 16384,
      "useCases": ["security analysis", "database schema design", "root cause analysis", "regression testing", "final validation gates", "orchestrator child execution"]
    }
  }
}
