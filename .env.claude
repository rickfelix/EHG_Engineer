# Claude Lane Environment (Write-Enabled)
# This file contains credentials for the Claude enforcer lane
# FULL write access to database and deployment environments

# Supabase Configuration (Write-Enabled)
SUPABASE_URL=https://dedlbzhpgkmetvhbkyzq.supabase.co
SUPABASE_SERVICE_ROLE_KEY=# Add service role key here (full write access)

# Node Environment
NODE_ENV=production

# Application Settings
PORT=3000  # Primary port for Claude lane

# Feature Flags
ENABLE_CLAUDE_MODE=true
ENABLE_WRITE_OPERATIONS=true
ENABLE_DATABASE_WRITES=true

# Security Settings
READ_ONLY_MODE=false
ALLOW_MIGRATIONS=true
ALLOW_SCHEMA_CHANGES=true
ENFORCE_SIGNATURES=true
REQUIRE_ATTESTATIONS=true

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
AUDIT_LOG_ENABLED=true

# Build Settings
VERIFY_PROVENANCE=true
VERIFY_SBOM=true
ENFORCE_DIGESTS=true

# Gate Requirements
PLAN_SUPERVISOR_MIN_CONFIDENCE=85
STORY_GATE_REQUIRED=true
SLSA_LEVEL_REQUIRED=3

# Artifact Settings
ARTIFACT_FORMAT=tar.gz
SBOM_FORMAT=cyclonedx-1.5
PROVENANCE_FORMAT=in-toto-v1.0
PROVENANCE_PREDICATE=slsaprovenance/v0.2

# Branch Restrictions
ALLOWED_BRANCH_PREFIX=feature/
FORBIDDEN_BRANCH_PREFIX=staging/codex-

# Commit Markers
APPLY_MARKER=[CLAUDE-APPLIED]
VALIDATE_MERGE_BASE=true

# GitOps Settings
GITOPS_OPERATOR=flux-v2
ADMISSION_CONTROLLER=kyverno
RECONCILIATION_INTERVAL=60s

# Policy Enforcement
POLICY_ENGINE=kyverno
ENFORCE_POLICIES=true
BLOCK_UNSIGNED_IMAGES=true
BLOCK_NON_DIGEST_IMAGES=true
REQUIRE_SLSA_PROVENANCE=true