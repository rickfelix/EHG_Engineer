╔══════════════════════════════════════════════════════════════════════╗
║                   CI/CD SECRETS SETUP CHECKLIST                      ║
║                        Print & Check Off                             ║
╚══════════════════════════════════════════════════════════════════════╝

Time: 15 minutes total
Difficulty: Beginner-friendly

═══════════════════════════════════════════════════════════════════════

PART 1: ADD DATABASE SECRET (5 minutes)
═══════════════════════════════════════════════════════════════════════

[ ] 1. Open browser to Supabase:
      https://app.supabase.com/project/dedlbzhpgkmetvhbkyzq/settings/api

[ ] 2. Find "Project API keys" section

[ ] 3. Copy the "service_role" key (starts with eyJ...)

[ ] 4. Open terminal and navigate:
      cd /mnt/c/_EHG/EHG_Engineer

[ ] 5. Run command:
      gh secret set SUPABASE_SERVICE_ROLE_KEY

[ ] 6. Paste key when prompted, press Enter

[ ] 7. Verify:
      gh secret list | grep SERVICE_ROLE
      ✓ Should show SUPABASE_SERVICE_ROLE_KEY

═══════════════════════════════════════════════════════════════════════

PART 2: ADD GITHUB TOKEN (10 minutes)
═══════════════════════════════════════════════════════════════════════

[ ] 1. Open browser:
      https://github.com/settings/tokens

[ ] 2. Click "Generate new token" → "Generate new token (classic)"

[ ] 3. Fill out form:
      Note: CI/CD UAT Testing - EHG Repo Access
      Expiration: 90 days
      Scopes: ✓ repo (check this box only!)

[ ] 4. Click green "Generate token" button

[ ] 5. Copy the token (starts with ghp_...)
      ⚠️  ONLY SHOWN ONCE! Copy now!

[ ] 6. In terminal, run:
      gh secret set GH_PAT

[ ] 7. Paste token when prompted, press Enter

[ ] 8. Verify:
      gh secret list | grep GH_PAT
      ✓ Should show GH_PAT

═══════════════════════════════════════════════════════════════════════

PART 3: RE-ENABLE UAT WORKFLOW (2 minutes)
═══════════════════════════════════════════════════════════════════════

[ ] 1. Open file:
      code .github/workflows/uat-testing.yml
      (or use nano/vim/any editor)

[ ] 2. Find line 17 with:
          if: false
      DELETE this entire line

[ ] 3. Find lines 27-35 (they have # symbols):
      #     - name: Checkout EHG application
      #       uses: actions/checkout@v4
      #       with:
      #         repository: rickfelix/ehg
      #         token: ${{ secrets.GH_PAT }}
      #         path: ehg

[ ] 4. Remove ALL the # symbols from those lines

[ ] 5. Save the file (Ctrl+S or Cmd+S)

[ ] 6. Commit changes:
      git add .github/workflows/uat-testing.yml

[ ] 7. Commit:
      git commit -m "fix(ci-cd): Re-enable UAT testing workflow"

[ ] 8. Push:
      git push

═══════════════════════════════════════════════════════════════════════

PART 4: VERIFY EVERYTHING WORKS (3 minutes)
═══════════════════════════════════════════════════════════════════════

[ ] 1. Check all secrets:
      gh secret list
      ✓ Should show 10 secrets total

[ ] 2. Run test workflow:
      gh workflow run stories-ci.yml

[ ] 3. Watch it run:
      gh run watch
      ✓ Wait for green checkmarks (2-3 minutes)

[ ] 4. Check recent runs:
      gh run list --limit 5
      ✓ Should see workflows with status "completed"

[ ] 5. Look for failures:
      ✓ No "secret not found" errors
      ✓ Most workflows show ✓ green checkmarks

═══════════════════════════════════════════════════════════════════════

FINAL VERIFICATION
═══════════════════════════════════════════════════════════════════════

Run this command:
  gh secret list

You should see these 10 secrets:
  [ ] DATABASE_URL
  [ ] GH_PAT                          ← NEW TODAY
  [ ] NEXT_PUBLIC_SUPABASE_ANON_KEY
  [ ] NEXT_PUBLIC_SUPABASE_URL
  [ ] PGDATABASE_PROD
  [ ] PGHOST_PROD
  [ ] PGPASSWORD_PROD
  [ ] PGPORT_PROD
  [ ] PGUSER_PROD
  [ ] SUPABASE_SERVICE_ROLE_KEY       ← NEW TODAY

═══════════════════════════════════════════════════════════════════════

TROUBLESHOOTING
═══════════════════════════════════════════════════════════════════════

Problem: "gh: command not found"
Solution:
  Windows: winget install GitHub.cli
  Mac: brew install gh
  Linux: sudo apt install gh
  Then: gh auth login

Problem: "Permission denied"
Solution:
  cd /mnt/c/_EHG/EHG_Engineer
  ls .github/workflows

Problem: Workflow fails
Solution:
  gh run view --log
  (Read the error message)

═══════════════════════════════════════════════════════════════════════

SET REMINDER
═══════════════════════════════════════════════════════════════════════

[ ] Add calendar reminder for: January 24, 2026 (90 days)
    Title: "Renew GitHub Personal Access Token (GH_PAT)"
    Notes: "Follow BEGINNER-GUIDE-CI-CD-SETUP.md Part 2"

═══════════════════════════════════════════════════════════════════════

WHAT YOU FIXED
═══════════════════════════════════════════════════════════════════════

Before:
  ❌ 8+ workflows failing
  ❌ No story verification
  ❌ UAT testing disabled
  ❌ "Secret not found" errors

After:
  ✅ All workflows working
  ✅ Story verification active
  ✅ UAT testing enabled
  ✅ No secret errors

═══════════════════════════════════════════════════════════════════════

MORE HELP
═══════════════════════════════════════════════════════════════════════

Quick Start Guide:
  docs/QUICK-START-SECRETS.md

Full Beginner Guide:
  docs/BEGINNER-GUIDE-CI-CD-SETUP.md

Technical Details:
  docs/CI-CD-SECRETS-CONSOLIDATED-REPORT.md

═══════════════════════════════════════════════════════════════════════

✅ DONE!

You fixed 8+ workflows in 15 minutes! 🎉

═══════════════════════════════════════════════════════════════════════
