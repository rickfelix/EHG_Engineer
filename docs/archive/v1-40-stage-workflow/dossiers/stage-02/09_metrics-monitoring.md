# Stage 2: Metrics & Monitoring

**Source**: EHG_Engineer@6ef8cf4:docs/workflow/stages.yaml:57-59

---

## Defined Metrics (from stages.yaml)

| Metric | Definition | Threshold | Implementation Status |
|--------|------------|-----------|----------------------|
| **Review thoroughness** | % of idea aspects covered by multi-model analysis | ≥80% | ⚠️ Proposed |
| **Risk identification rate** | Count of risks identified per substage | ≥5 total | ⚠️ Proposed |
| **Processing time** | Duration from Stage 2 start to completion | ≤10 min | ⚠️ Proposed |

**Evidence**: EHG_Engineer@6ef8cf4:docs/workflow/stages.yaml:57-59

---

## Proposed Monitoring Queries

### 1. Review Thoroughness

**SQL** (proposed):
```sql
-- Measure % of idea fields analyzed by EVA
SELECT
  venture_id,
  COUNT(DISTINCT analyzed_field) * 100.0 /
    (SELECT COUNT(*) FROM idea_schema_fields) AS thoroughness_pct
FROM ai_review_coverage
WHERE stage_id = 2
GROUP BY venture_id;
```

**Threshold**: ≥80%
**Alert**: If thoroughness < 80%, escalate to Chairman

---

### 2. Risk Identification Rate

**SQL** (proposed):
```sql
-- Count risks identified in Stage 2
SELECT
  venture_id,
  COUNT(*) AS risk_count
FROM risks
WHERE identified_at_stage = 2
GROUP BY venture_id;
```

**Threshold**: ≥5 risks
**Alert**: If risk_count < 5, block Stage 3 progression

---

### 3. Processing Time

**SQL** (proposed):
```sql
-- Measure Stage 2 execution duration
SELECT
  venture_id,
  EXTRACT(EPOCH FROM (completed_at - started_at)) / 60 AS processing_minutes
FROM workflow_stage_executions
WHERE stage_id = 2;
```

**Threshold**: ≤10 minutes
**Alert**: If processing_time > 10 min, investigate performance bottleneck

---

## Dashboard Visualizations (Proposed)

1. **Multi-Model Coverage Heatmap**: Show which models analyzed which idea aspects
2. **Risk Prioritization Matrix**: Probability × Impact for top-5 risks
3. **Processing Time Trend**: Line chart of Stage 2 duration over last 30 ventures

---

## Known Gaps (from critique)

⚠️ **Missing Threshold Values**: Critique notes "Metrics defined but validation criteria unclear" (score: 3/5)

⚠️ **Missing Measurement Frequency**: No guidance on when to measure (per-venture, daily rollup, etc.)

**Evidence**: EHG_Engineer@6ef8cf4:docs/workflow/critique/stage-02.md:9

---

## Sources Table

| Source | Repo | Commit | Path | Lines |
|--------|------|--------|------|-------|
| Metrics | EHG_Engineer | 6ef8cf4 | docs/workflow/stages.yaml | 57-59 |
| Testability gap | EHG_Engineer | 6ef8cf4 | docs/workflow/critique/stage-02.md | 9 |

<!-- Generated by Claude Code Phase 3 | EHG_Engineer@6ef8cf4 | 2025-11-05 -->
