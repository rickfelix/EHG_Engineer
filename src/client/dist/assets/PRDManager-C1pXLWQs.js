import{u as y,a as j,r as x,j as e,C as p,g as N,p as u,F as m}from"./index-DaWIMfnY.js";import{M as b}from"./index-LAI-2XFi.js";function k({prds:r,isCompact:i,detailMode:d}){const{id:l}=y(),c=j(),[g,n]=x.useState("list"),[t,o]=x.useState(null);x.useEffect(()=>{if(d&&l){const s=r.find(a=>a.id===l);s?(o(s),n("detail"),document.title=`${s.title||s.id} - LEO Protocol Dashboard`):(console.warn(`PRD with id '${l}' not found, redirecting to list`),c("/prds",{replace:!0}))}else d||(n("list"),o(null),document.title="PRDs - LEO Protocol Dashboard")},[l,d,r,c]);const h=s=>{if(!s||!s.id){console.error("Invalid PRD for navigation:",s);return}try{c(`/prds/${s.id}`)}catch(a){console.error("Navigation error:",a)}};return g==="detail"&&t?e.jsxs("div",{className:"p-6",children:[e.jsxs("button",{onClick:()=>c("/prds"),className:"mb-4 text-primary-600 hover:text-primary-700 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-1 rotate-180"}),"Back to PRDs"]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:t.directiveTitle&&`Strategic Directive: ${t.directiveTitle}`})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.status})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Priority"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.priority})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phase"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.phase})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Progress"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.progress,"%"]})]})]}),e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-6",children:e.jsx(b,{children:t.content||"No content available"})}),t.checklist&&t.checklist.length>0&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Implementation Checklist"}),e.jsx("div",{className:"space-y-2",children:t.checklist.map((s,a)=>e.jsxs("div",{className:"flex items-start p-3 rounded bg-gray-50 dark:bg-gray-700",children:[s.checked?e.jsx(N,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}):e.jsx(u,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("span",{className:`flex-1 ${s.checked?"line-through text-gray-500":""}`,children:s.text}),s.phase&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded ml-2",children:s.phase})]},a))})]})]})]}):e.jsxs("div",{className:i?"p-3":"p-6",children:[e.jsx("div",{className:i?"mb-3":"mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:`${i?"text-2xl":"text-3xl"} font-bold text-gray-900 dark:text-white`,children:"PRDs"}),e.jsx("p",{className:`text-gray-600 dark:text-gray-400 ${i?"text-sm mt-1":"mt-2"}`,children:"Product Requirements Documents - Technical implementation details"})]})})}),r.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-12 text-center",children:[e.jsx(m,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No PRDs found"})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(m,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.directiveTitle&&`SD: ${s.directiveTitle}`}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.status==="approved"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:s.priority}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Phase: ",s.phase]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Progress: ",s.progress,"%"]})]})]})]})}),e.jsx("div",{className:"ml-4 flex flex-col items-end space-y-2",children:e.jsx("button",{onClick:()=>h(s),className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"View Full"})})]})})},s.id))})]})}export{k as default};
//# sourceMappingURL=PRDManager-C1pXLWQs.js.map
